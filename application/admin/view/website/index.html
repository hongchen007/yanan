<!DOCTYPE html><html><head>    <meta charset="utf-8">    <title>网站总配置</title>    <meta name="renderer" content="webkit">    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">    <meta name="viewport"          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">    <link rel="stylesheet" href="/static/layuiadmin/layui/css/layui.css" media="all">    <link rel="stylesheet" href="/static/layuiadmin/style/admin.css" media="all"></head><body><form class="layui-form" action="" lay-filter="component-form-group">    <div class="layui-form" lay-filter="layuiadmin-app-form-list" id="layuiadmin-app-form-list" style="padding: 20px 30px 0 0;">        <div class="layui-form-item">            <label class="layui-form-label">网站名称</label>            <div class="layui-input-block">                <input type="text" name="web_name" value="{$info.web_name}" lay-verify="web_name"                       autocomplete="off" placeholder="请输入网站名称"                       class="layui-input">            </div>        </div>        <div class="layui-form-item">            <label class="layui-form-label">头部标题</label>            <div class="layui-input-block">                <input type="text" name="head_title" value="{$info.head_title}" lay-verify="head_title"                       autocomplete="off" placeholder="请输入头部标题"                       class="layui-input">            </div>        </div>        <div class="layui-form-item">            <label class="layui-form-label">简单描述</label>            <div class="layui-input-block">                <textarea id="head_dec" name="head_dec" placeholder="请输入简单描述" class="layui-textarea">{$info['head_dec']}</textarea>                <small>换行符用@ （ @后面的文字在前端页面显示的时候将会另起一行。 ）</small>            </div>        </div>        <div class="layui-form-item">            <label class="layui-form-label">故事标题</label>            <div class="layui-input-block">                <input type="text" name="love_title" value="{$info.love_title}" lay-verify="love_title"                       autocomplete="off" placeholder="请输入故事标题"                       class="layui-input">            </div>        </div>        <div class="layui-form-item">            <label class="layui-form-label">约定标题</label>            <div class="layui-input-block">                <input type="text" name="agree_title" value="{$info.agree_title}" lay-verify="agree_title"                       autocomplete="off" placeholder="请输入约定标题"                       class="layui-input">            </div>        </div>        <div class="layui-form-item">            <label class="layui-form-label">约定内容</label>            <div class="layui-input-block">                <textarea id="agree_des" name="agree_des" placeholder="请输入约定内容" class="layui-textarea">{$info['agree_des']}</textarea>            </div>        </div>        <div class="layui-form-item">            <label class="layui-form-label">见证标题</label>            <div class="layui-input-block">                <input type="text" name="wintness_title" value="{$info.wintness_title}" lay-verify="wintness_title"                       autocomplete="off" placeholder="请输入见证时刻标题"                       class="layui-input">            </div>        </div>        <div class="layui-form-item">            <label class="layui-form-label">底部描述</label>            <div class="layui-input-block">                <input type="text" name="footer" value="{$info.footer}" lay-verify="footer"                       autocomplete="off" placeholder="请输入底部描述"                       class="layui-input">            </div>            <input type="hidden" name="web_logo" class="layui-input_img">            <input type="hidden" name="id" value="{$info['id']}">        </div>        <div class="layui-form-item">            <label class="layui-form-label">网站Logo</label>            <div class="layui-input-block">                <div class="layui-card">                    <div class="layui-card-body">                        <div class="layui-upload">                            <button type="button" class="layui-btn" id="test-upload-normal"><i class="layui-icon">&#xe67c;</i>上传图片</button>                            <div class="layui-upload-list">                                <img style="height: 100px;" src="{$info.web_logo}" class="layui-upload-img"                                     id="test-upload-normal-img">                                <p id="test-upload-demoText"></p>                            </div>                        </div>                                        </div>·                </div>            </div>        </div>        <div class="layui-form-item layui-layout-admin">            <div class="layui-input-block">                <div class="layui-footer" style="left: 0;">·                    <button class="layui-btn" lay-submit="" lay-filter="component-form-demo1">立即提交</button>                    <button type="reset" class="layui-btn layui-btn-primary">重置</button>                </div>            </div>        </div>    </div></form></div><script src="/static/layuiadmin/layui/layui.js"></script><script>    layui.config({        base: '/static/layuiadmin/' //静态资源所在路径    }).extend({        index: 'lib/index' //主入口模块    }).use(['index', 'form', 'upload', 'jquery'], function () {        var $ = layui.$                , form = layui.form                , upload = layui.upload;        //网站Logo        var uploadInst = upload.render({            elem: '#test-upload-normal'            , url: '/admin/base/upload'            , before: function (obj) {                //预读本地文件示例，不支持ie8                obj.preview(function (index, file, result) {                    $('#test-upload-normal-img').attr('src', result); //图片链接（base64）                });            }            , done: function (res) {                //如果上传失败                if (res.code > 0) {                    return layer.msg('上传失败');                } else {                    $('input[name=web_logo]').val(res.data)                    return layer.msg('上传成功');                }                //上传成功            }            , error: function () {                //演示失败状态，并实现重传                var demoText = $('#test-upload-demoText');                demoText.html('<span style="color: #FF5722;">上传失败</span> <a class="layui-btn layui-btn-mini demo-reload">重试</a>');                demoText.find('.demo-reload').on('click', function () {                    uploadInst.upload();                });            }        });        /* 监听提交 */        form.on('submit(component-form-demo1)', function (data) {            // var data = JSON.stringify(data.field)            // var json = JSON.parse(data)            var data = data.field            $.post('/admin/Website/index', {'data': data}, function (i) {                switch(i){                    case true:                        var layer = layui.layer;                        layer.msg('操作成功')                        break;                    case 101:                        layui.use('layer', function(){                            var layer = layui.layer;                            layer.msg('网站名称不能为空');                        });                        break;                    case 102:                        layui.use('layer', function(){                            var layer = layui.layer;                            layer.msg('头部标题不能为空');                        });                        break;                    case 103:                        layui.use('layer', function(){                            var layer = layui.layer;                            layer.msg('简单描述不能为空');                        });                        break;                    case 104:                        layui.use('layer', function(){                            var layer = layui.layer;                            layer.msg('故事标题不能为空');                        });                        break;                    case 105:                        layui.use('layer', function(){                            var layer = layui.layer;                            layer.msg('约定标题不能为空');                        });                        break;                    case 106:                        layui.use('layer', function(){                            var layer = layui.layer;                            layer.msg('约定内容不能为空');                        });                        break;                    case 107:                        layui.use('layer', function(){                            var layer = layui.layer;                            layer.msg('见证标题不能为空');                        });                        break;                    case 108:                        layui.use('layer', function(){                            var layer = layui.layer;                            layer.msg('Logo图片不能为空');                        });                        break;                    case 109:                        layui.use('layer', function(){                            var layer = layui.layer;                            layer.msg('底部描述不能为空');                        });                        break;                    case false:                        layui.use('layer', function(){                            var layer = layui.layer;                            layer.msg('操作失败');                        });                        break;                }            })            return false;        });    })</script></body></html>