<!DOCTYPE html><html><head>    <meta charset="utf-8">    <title>公司信息设置</title>    <meta name="renderer" content="webkit">    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">    <meta name="viewport"          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">    <link rel="stylesheet" href="/static/layuiadmin/layui/css/layui.css" media="all">    <link rel="stylesheet" href="/static/layuiadmin/style/admin.css" media="all"></head><body><form class="layui-form" action="" lay-filter="component-form-group">    <div class="layui-form" lay-filter="layuiadmin-app-form-list" id="layuiadmin-app-form-list" style="padding: 20px 30px 0 0;">        <div class="layui-form-item">            <label class="layui-form-label">公司名称</label>            <div class="layui-input-block">                <input type="text" name="company_name" value="{$info.company_name}" lay-verify="company_name"                       autocomplete="off" placeholder="请输入公司名称"                       class="layui-input">            </div>        </div>        <div class="layui-form-item">            <label class="layui-form-label">公司地址</label>            <div class="layui-input-block">                <input type="text" name="company_address" value="{$info.company_address}" lay-verify="company_address"                       autocomplete="off" placeholder="请输入公司地址"                       class="layui-input">            </div>        </div>        <div class="layui-form-item">            <label class="layui-form-label">公司电话</label>            <div class="layui-input-block">                <input type="text" name="company_phone" value="{$info.company_phone}" lay-verify="company_phone"                       autocomplete="off" placeholder="请输入公司电话"                       class="layui-input">            </div>        </div>        <div class="layui-form-item">            <label class="layui-form-label">公司邮箱</label>            <div class="layui-input-block">                <input type="text" name="company_email" value="{$info.company_email}" lay-verify="company_email"                       autocomplete="off" placeholder="请输入公司邮箱"                       class="layui-input">                <input type="hidden" name="xv_code" class="layui-input_img">                <input type="hidden" name="id" value="{$info['id']}">            </div>        </div>        <div class="layui-form-item">            <label class="layui-form-label">微信二维码</label>            <div class="layui-input-block">                <div class="layui-card">                    <div class="layui-card-body">                        <div class="layui-upload">                            <button type="button" class="layui-btn" id="test-upload-normal"><i class="layui-icon">&#xe67c;</i>上传图片</button>                            <div class="layui-upload-list">                                <img style="height: 400px;" src="{$info.xv_code}" class="layui-upload-img"                                     id="test-upload-normal-img">                                <p id="test-upload-demoText"></p>                            </div>                        </div>                    </div>·                </div>            </div>        </div>        <div class="layui-form-item layui-layout-admin">            <div class="layui-input-block">                <div class="layui-footer" style="left: 0;">·                    <button class="layui-btn" lay-submit="" lay-filter="component-form-demo1">立即提交</button>                    <button type="reset" class="layui-btn layui-btn-primary">重置</button>                </div>            </div>        </div>    </div></form></div><script src="/static/layuiadmin/layui/layui.js"></script><script>    layui.config({        base: '/static/layuiadmin/' //静态资源所在路径    }).extend({        index: 'lib/index' //主入口模块    }).use(['index', 'form', 'upload', 'jquery'], function () {        var $ = layui.$            , form = layui.form            , upload = layui.upload;        //普通图片上传        var uploadInst = upload.render({            elem: '#test-upload-normal'            , url: '/admin/base/upload'            , before: function (obj) {                //预读本地文件示例，不支持ie8                obj.preview(function (index, file, result) {                    $('#test-upload-normal-img').attr('src', result); //图片链接（base64）                });            }            , done: function (res) {                //如果上传失败                if (res.code > 0) {                    return layer.msg('上传失败');                } else {                    $('input[name=xv_code]').val(res.data)                    return layer.msg('上传成功');                }                //上传成功            }            , error: function () {                //演示失败状态，并实现重传                var demoText = $('#test-upload-demoText');                demoText.html('<span style="color: #FF5722;">上传失败</span> <a class="layui-btn layui-btn-mini demo-reload">重试</a>');                demoText.find('.demo-reload').on('click', function () {                    uploadInst.upload();                });            }        });        /* 监听提交 */        form.on('submit(component-form-demo1)', function (data) {            // var data = JSON.stringify(data.field)            // var json = JSON.parse(data)            var data = data.field            $.post('/admin/Website/company', {'data': data}, function (i) {                switch(i){                    case true:                        var layer = layui.layer;                        layer.msg('操作成功')                        break;                    case 201:                        layui.use('layer', function(){                            var layer = layui.layer;                            layer.msg('公司名称不能为空');                        });                        break;                    case 202:                        layui.use('layer', function(){                            var layer = layui.layer;                            layer.msg('公司地址不能为空');                        });                        break;                    case 203:                        layui.use('layer', function(){                            var layer = layui.layer;                            layer.msg('公司电话不能为空');                        });                        break;                    case 204:                        layui.use('layer', function(){                            var layer = layui.layer;                            layer.msg('公司邮箱不能为空');                        });                        break;                    case 205:                        layui.use('layer', function(){                            var layer = layui.layer;                            layer.msg('微信二维码不能为空');                        });                        break;                    case false:                        layui.use('layer', function(){                            var layer = layui.layer;                            layer.msg('操作失败');                        });                        break;                }            })            return false;        });    })</script></body></html>