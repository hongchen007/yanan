<!DOCTYPE html><html><head>    <meta charset="utf-8">    <title>layuiAdmin 内容系统-</title>    <meta name="renderer" content="webkit">    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">    <meta name="viewport"          content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=0">    <link rel="stylesheet" href="/static/layuiadmin/layui/css/layui.css" media="all">    <link rel="stylesheet" href="/static/layuiadmin/style/admin.css" media="all"></head><body><div class="layui-fluid">    <div class="layui-card">        <div class="layui-card-header layuiadmin-card-header-auto">            <button class="layui-btn layuiadmin-btn-tags add" data-type="add">添加</button>        </div>        <div class="layui-card-body">            <table id="LAY-app-content-list" lay-filter="LAY-app-content-list"></table>            <script type="text/html" id="table-content-list">                <a class="layui-btn layui-btn-normal layui-btn-xs" lay-event="edit"><i                        class="layui-icon layui-icon-edit"></i>编辑</a>                <a class="layui-btn layui-btn-danger layui-btn-xs" lay-event="del"><i                        class="layui-icon layui-icon-delete"></i>删除</a>            </script>        </div>    </div></div><script src="/static/layuiadmin/layui/layui.js"></script><script>    layui.config({        base: '/static/layuiadmin/' //静态资源所在路径    }).extend({        index: 'lib/index' //主入口模块    }).use(['table', 'layer', 'jquery'], function () {        var table = layui.table            , form = layui.form;        var $ = layui.$ //重点处        table.render({            elem: '#LAY-app-content-list'            , url: '/admin/role/index' //数据接口            , page: true //开启分页            , cols: [[ //表头                {field: 'id', 'title': '角色ID', id: 'id'}                , {field: 'role_name1', 'title': '角色名称', role_name1: 'role_name1'}                , {field: 'create_time', 'title': '添加时间', create_time: 'create_time'}                , {fixed: 'right', width: 165, align: 'center', toolbar: '#table-content-list', title: '操作'}            ]]        });        table.on('tool(LAY-app-content-list)', function (obj) { //注：tool是工具条事件名，test是table原始容器的属性 lay-filter="对应的值"            if (obj.event == 'del') {                layer.confirm('确定删除么？', function (index) {                    $.post('/admin/role/img_del', {'id': obj.data.id}, function (i) {                        if (i == 1) {                            layer.msg('删除成功！！！')                            setTimeout(function (){                                window.location.reload()                            }, 2000);                        } else if (i == 2) {                            layer.msg('当前角色下存在子角色，不允许删除')                        } else {                            layer.msg('删除失败')                        }                    })                })            } else {                layer.open({                    type: 2                    , title: '修改 角色'                    , content: 'update_edit?id=' + obj.data.id                    , area: ['95%', '95%']                    , yes: function (index, layero) {                    }                });            }        });        $('.add').click(function () {            layer.open({                type: 2                , title: '添加 角色'                , content: 'add_img.html'                , area: ['95%', '95%']                , yes: function (index, layero) {                }            });        })    });</script></body></html>