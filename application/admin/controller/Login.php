<?php/** * Created by PhpStorm. * User: Administrator * Date: 2019/7/17 * Time: 17:39 */namespace app\admin\controller;use app\admin\model\User as UserModel;use think\facade\Session;use think\captcha\Captcha;class Login extends Base{    /**     * 验证码     * @return \think\Response     */    public function verify()    {        $captcha = new Captcha();        return $captcha->entry();    }    /**     * 登录页面显示     * @return bool|int|mixed     * @throws \think\db\exception\DataNotFoundException     * @throws \think\db\exception\ModelNotFoundException     * @throws \think\exception\DbException     */    public function index()    {        if ($this->request->isAjax()){            $data = $this->postData('login');//            if(!captcha_check($data['vercode'])){//                return 11; // 验证失败//            };            $model = new UserModel();            $info = $model->login($this->postData('login'));            return $info;        }        return $this->fetch('login/index');    }    /**     * 退出     */    public function loginout()    {        Session::delete('userinfo');        $this->redirect('login/index');    }}