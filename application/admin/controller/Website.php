<?php/** * Created by PhpStorm. * User: Administrator * Date: 2019/7/31 * Time: 15:26 */namespace app\admin\controller;use app\admin\model\Website as WebsiteModel;use app\admin\validate\Website as WebsiteValidete;use think\Request;/* * 网站管理 */class Website extends Base{    /*     * 网站设置     */    public function index(Request $request)    {        $queryymodel = new WebsiteModel();        $info = $queryymodel->findinfo();        $this->assign('info',$info);        //添加或跟新数据        if($request->isAjax()){            $date = $request->param('data');            //参数验证            $queryyValidete = new WebsiteValidete();            if (empty($info['id'])) {                if(!$queryyValidete->scene('add')->check($date)){                    return $queryyValidete->getError();                }            } else {                if(!$queryyValidete->scene('eait')->check($date)){                    return $queryyValidete->getError();                }            }            return $queryymodel->editinfo($info,$date);        }        return $this->fetch();    }}